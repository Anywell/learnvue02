<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<script>
    // 需求：完成请求1和请求2后执行后面的操作

    // 定义两个全局变量
    // let isResult1 = false;
    // let isResult2 = false;
    // // 1.请求1：
    // $ajax({
    //     url: '',
    //     success: function (){
    //         console.log('结果1')
    //         isResult1 = true
    //         handleResult()
    //     }
    // })
    // // 2.请求2：
    // $ajax({
    //     url: '',
    //     success: function (){
    //         console.log('结果2')
    //         isResult2 = true
    //         handleResult()
    //     }
    // })
    //
    // //3.后续操作
    // function handleResult(){
    //     if (isResult1 && isResult2){
    //         // 后续操作
    //     }
    // }


    // 使用Promise 的all方法
    Promise.all([
    //     new Promise((resolve, reject) =>{
    //         $ajax({
    //             url: 'url1',
    //             success: function(data){
    //                 resolve(data)
    //             }
    //         })
    //     }),
    //     new Promise((resolve, reject) => {
    //         $ajax({
    //             url: 'url2',
    //             success: function(data){
    //                 resolve(data)
    //             }
    //         })
    //     })

      new Promise((resolve, reject) => {
          setTimeout(() => {
              resolve('result1')
          }, 2000)
      }),
      new Promise((resolve, reject) => {
          setTimeout(() => {
              resolve('result2')
          }, 1000)
      })

    ]).then(results => { // results返回结果数数组
        // results[0]是第一个请求的结果
        // results[1]是第二个请求的结果
        console.log(results)
        console.log(results[0], results[1])
    })


</script>

</body>
</html>